Vulkan CMake
============

Extension Compile Definitions
-----------------------------

The following ``PRIVATE`` compile definitions are added to the ``VK`` target
so that we can configure support for Vulkan extensions.

CA_VK_KHR_get_physical_device_properties2
  Reports support for `VK_KHR_get_physical_device_properties2`_, enabled by
  default

CA_VK_KHR_storage_buffer_storage_class
  Reports support for `VK_KHR_storage_buffer_storage_class`_, enabled by
  default.

CA_VK_KHR_variable_pointers
  Reports support for `VK_KHR_variable_pointers`_, enabled by default.

.. _VK_KHR_get_physical_device_properties2:
  https://www.khronos.org/registry/vulkan/specs/1.2-extensions/man/html/VK_KHR_get_physical_device_properties2.html
.. _VK_KHR_storage_buffer_storage_class:
  https://www.khronos.org/registry/vulkan/specs/1.2-extensions/man/html/VK_KHR_storage_buffer_storage_class.html
.. _VK_KHR_variable_pointers:
  https://www.khronos.org/registry/vulkan/specs/1.2-extensions/man/html/VK_KHR_variable_pointers.html

Installable Client Driver(ICD) Manifest
---------------------------------------

The `Vulkan loader`_ discovers implementations available on a system by
detecting ICD JSON manifest files documenting a path to the shared library and
the API version implemented.

Our ``source/vk/CMakeLists.txt`` file creates a manifest file for the loader
as part of the `install`_ target, located at
``<install>/share/vulkan/icd.d/VK.json``. This JSON is generated by our CMake
running python script ``source/vk/scripts/VKICDManifest.py`` so we can embed
the correct version number and library name, using a relative path to our
installed VK library.

.. _Vulkan loader:
  https://github.com/KhronosGroup/Vulkan-Loader
.. _install:
  https://cmake.org/cmake/help/latest/command/install.html

Options
-------

There is currently only a single CMake option specific to the implementation
and testing of the Vulkan library.

.. cmake:variable:: CA_VK_LIBRARY_NAME

  A string CMake option to override the output name of the Vulkan shared
  library.

  Default value
    ``"VK"``

Modules
-------

Vulkan specific CMake utilities are provided by:

.. toctree::
  :maxdepth: 2

  cmake/FindVulkan
  cmake/GLSL
